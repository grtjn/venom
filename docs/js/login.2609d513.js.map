{"version":3,"sources":["webpack:///./src/views/Login.vue?a713","webpack:///./src/components/LoginForm.vue?aadf","webpack:///src/components/LoginForm.vue","webpack:///./src/components/LoginForm.vue?cde7","webpack:///./src/components/LoginForm.vue","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?5da6","webpack:///./src/views/Login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","validateLogin","loginDone","staticRenderFns","on","$event","preventDefault","doLogin","msg","success","_s","model","value","callback","$$v","username","expression","password","close","_e","name","props","type","Function","required","data","pending","methods","then","response","isError","error","status","setTimeout","component","components","LoginForm","computed","previousRoute","$store","state","route","from","dispatch","$router"],"mappings":"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","file":"js/login.2609d513.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{attrs:{\"role\":\"login\"}},[_c('h1',{staticClass:\"text-center\"},[_vm._v(\"Login\")]),_c('b-jumbotron',{staticClass:\"w-50 mx-auto\"},[_c('LoginForm',{attrs:{\"validateLogin\":_vm.validateLogin,\"loginDone\":_vm.loginDone}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.doLogin()}}},[_c('b-alert',{attrs:{\"show\":!!_vm.msg,\"variant\":_vm.success ? 'success' : 'danger'}},[_vm._v(_vm._s(_vm.msg))]),_c('b-form-group',[_c('b-input',{staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"Username\",\"autocomplete\":\"@sample-app-name login username\"},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}})],1),_c('b-form-group',[_c('b-input',{staticClass:\"form-control\",attrs:{\"type\":\"password\",\"placeholder\":\"Password\",\"autocomplete\":\"@sample-app-name login current-pasword\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1),(_vm.success)?_c('b-button-toolbar',[(!!_vm.loginDone)?_c('b-button',{on:{\"click\":function($event){$event.preventDefault();return _vm.close()}}},[_vm._v(\" Close \")]):_vm._e()],1):_c('b-button-toolbar',[(!!_vm.loginDone)?_c('b-button',{staticClass:\"mr-2\",on:{\"click\":function($event){$event.preventDefault();return _vm.close()}}},[_vm._v(\" Cancel \")]):_vm._e(),_c('b-button',{attrs:{\"type\":\"submit\",\"variant\":\"primary\"}},[_vm._v(\" Login \"),(_vm.pending)?_c('b-icon',{attrs:{\"icon\":\"arrow-clockwise\",\"animation\":\"spin\"}}):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-form @submit.prevent=\"doLogin()\">\n    <b-alert :show=\"!!msg\" :variant=\"success ? 'success' : 'danger'\">{{\n      msg\n    }}</b-alert>\n    <b-form-group>\n      <b-input\n        type=\"text\"\n        placeholder=\"Username\"\n        class=\"form-control\"\n        v-model=\"username\"\n        autocomplete=\"@sample-app-name login username\"\n      ></b-input>\n    </b-form-group>\n    <b-form-group>\n      <b-input\n        type=\"password\"\n        placeholder=\"Password\"\n        class=\"form-control\"\n        v-model=\"password\"\n        autocomplete=\"@sample-app-name login current-pasword\"\n      ></b-input>\n    </b-form-group>\n    <b-button-toolbar v-if=\"success\">\n      <b-button v-if=\"!!loginDone\" @click.prevent=\"close()\">\n        Close\n      </b-button>\n    </b-button-toolbar>\n    <b-button-toolbar v-else>\n      <b-button v-if=\"!!loginDone\" @click.prevent=\"close()\" class=\"mr-2\">\n        Cancel\n      </b-button>\n      <b-button type=\"submit\" variant=\"primary\">\n        Login\n        <b-icon v-if=\"pending\" icon=\"arrow-clockwise\" animation=\"spin\"></b-icon>\n      </b-button>\n    </b-button-toolbar>\n  </b-form>\n</template>\n\n<script>\n'use strict';\n\nexport default {\n  name: 'LoginForm',\n  props: {\n    validateLogin: {\n      type: Function,\n      required: true\n    },\n    loginDone: {\n      type: Function\n    }\n  },\n  data() {\n    return {\n      pending: false,\n      username: null,\n      password: null,\n      success: null,\n      msg: null\n    };\n  },\n  methods: {\n    doLogin() {\n      this.pending = true;\n      this.success = null;\n      this.msg = null;\n      this.validateLogin(this.username, this.password).then(response => {\n        if (response.isError) {\n          this.success = false;\n          if (response.error && response.error.status === 401) {\n            this.msg = 'Username and/or Password Incorrect';\n          } else {\n            this.msg = response.error ? response.error.message : 'Unauthorized';\n          }\n        } else {\n          this.success = true;\n          this.msg = 'You successfully logged in';\n          if (this.loginDone) {\n            setTimeout(() => {\n              this.loginDone(this.success);\n            }, 1000);\n          }\n        }\n        this.pending = false;\n      });\n    },\n    close() {\n      if (this.loginDone) {\n        this.loginDone(this.success);\n      }\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LoginForm.vue?vue&type=template&id=6a48d8d4&\"\nimport script from \"./LoginForm.vue?vue&type=script&lang=js&\"\nexport * from \"./LoginForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <section role=\"login\">\n    <h1 class=\"text-center\">Login</h1>\n    <b-jumbotron class=\"w-50 mx-auto\">\n      <LoginForm :validateLogin=\"validateLogin\" :loginDone=\"loginDone\" />\n    </b-jumbotron>\n  </section>\n</template>\n\n<script>\nimport LoginForm from '@/components/LoginForm';\n\nexport default {\n  name: 'Login',\n  components: {\n    LoginForm\n  },\n  computed: {\n    previousRoute() {\n      return this.$store.state.route.from;\n    }\n  },\n  methods: {\n    validateLogin(username, password) {\n      return this.$store.dispatch('validateLogin', { username, password });\n    },\n    loginDone() {\n      if (\n        this.previousRoute.name &&\n        this.previousRoute.name !== this.$route.name\n      ) {\n        this.$router\n          .push({\n            name: this.previousRoute.name,\n            params: this.previousRoute.params\n          })\n          .catch(error => {\n            console.info(error.message);\n          });\n      } else {\n        // cancel\n        this.$router\n          .push({\n            name: 'base',\n            params: {}\n          })\n          .catch(error => {\n            console.info(error.message);\n          });\n      }\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=24a43f67&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}