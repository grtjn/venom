(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{a55b:function(e,n,o){"use strict";o.r(n);var s=function(){var e=this,n=e.$createElement,o=e._self._c||n;return o("section",{attrs:{role:"login"}},[o("h1",{staticClass:"text-center"},[e._v("Login")]),o("b-jumbotron",{staticClass:"w-50 mx-auto"},[o("LoginForm",{attrs:{validateLogin:e.validateLogin,loginDone:e.loginDone}})],1)],1)},t=[],r=(o("b0c0"),function(){var e=this,n=e.$createElement,o=e._self._c||n;return o("b-form",{on:{submit:function(n){return n.preventDefault(),e.doLogin()}}},[o("b-alert",{attrs:{show:!!e.msg,variant:e.success?"success":"danger"}},[e._v(e._s(e.msg))]),o("b-form-group",[o("b-input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Username",autocomplete:"@sample-app-name login username"},model:{value:e.username,callback:function(n){e.username=n},expression:"username"}})],1),o("b-form-group",[o("b-input",{staticClass:"form-control",attrs:{type:"password",placeholder:"Password",autocomplete:"@sample-app-name login current-pasword"},model:{value:e.password,callback:function(n){e.password=n},expression:"password"}})],1),e.success?o("b-button-toolbar",[e.loginDone?o("b-button",{on:{click:function(n){return n.preventDefault(),e.close()}}},[e._v(" Close ")]):e._e()],1):o("b-button-toolbar",[e.loginDone?o("b-button",{staticClass:"mr-2",on:{click:function(n){return n.preventDefault(),e.close()}}},[e._v(" Cancel ")]):e._e(),o("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v(" Login "),e.pending?o("b-icon",{attrs:{icon:"arrow-clockwise",animation:"spin"}}):e._e()],1)],1)],1)}),a=[],i={name:"LoginForm",props:{validateLogin:{type:Function,required:!0},loginDone:{type:Function}},data:function(){return{pending:!1,username:null,password:null,success:null,msg:null}},methods:{doLogin:function(){var e=this;this.pending=!0,this.success=null,this.msg=null,this.validateLogin(this.username,this.password).then((function(n){n.isError?(e.success=!1,n.error&&401===n.error.status?e.msg="Username and/or Password Incorrect":e.msg=n.error?n.error.message:"Unauthorized"):(e.success=!0,e.msg="You successfully logged in",e.loginDone&&setTimeout((function(){e.loginDone(e.success)}),1e3)),e.pending=!1}))},close:function(){this.loginDone&&this.loginDone(this.success)}}},u=i,l=o("2877"),c=Object(l["a"])(u,r,a,!1,null,null,null),m=c.exports,p={name:"Login",components:{LoginForm:m},computed:{previousRoute:function(){return this.$store.state.route.from}},methods:{validateLogin:function(e,n){return this.$store.dispatch("validateLogin",{username:e,password:n})},loginDone:function(){this.previousRoute.name&&this.previousRoute.name!==this.$route.name?this.$router.push({name:this.previousRoute.name,params:this.previousRoute.params}).catch((function(e){console.info(e.message)})):this.$router.push({name:"base",params:{}}).catch((function(e){console.info(e.message)}))}}},g=p,d=Object(l["a"])(g,s,t,!1,null,null,null);n["default"]=d.exports}}]);
//# sourceMappingURL=login.2609d513.js.map