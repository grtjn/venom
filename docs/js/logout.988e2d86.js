(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["logout"],{c100:function(o,t,e){"use strict";e.r(t);var s=function(){var o=this,t=o.$createElement,e=o._self._c||t;return e("section",{attrs:{role:"logout"}},[e("h1",{staticClass:"text-center"},[o._v("Logout")]),e("b-jumbotron",{staticClass:"w-50 mx-auto"},[e("LogoutForm",{attrs:{logout:o.logout,logoutDone:o.logoutDone}})],1)],1)},n=[],u=(e("b0c0"),function(){var o=this,t=o.$createElement,e=o._self._c||t;return e("b-form",{on:{submit:function(t){return t.preventDefault(),o.doLogout()}}},[e("b-alert",{attrs:{show:!!o.msg,variant:null===o.success?"warning":o.success?"success":"danger"}},[o._v(o._s(o.msg))]),o.success?e("b-button-toolbar",[o.logoutDone?e("b-button",{on:{click:function(t){return t.preventDefault(),o.close()}}},[o._v(" Close ")]):o._e()],1):e("b-button-toolbar",[o.logoutDone?e("b-button",{staticClass:"mr-2",on:{click:function(t){return t.preventDefault(),o.close()}}},[o._v(" Cancel ")]):o._e(),e("b-button",{attrs:{type:"submit",variant:"primary"}},[o._v(" Logout "),o.pending?e("b-icon",{attrs:{icon:"arrow-clockwise",animation:"spin"}}):o._e()],1)],1)],1)}),r=[],c={name:"LogoutForm",props:{logout:{type:Function,required:!0},logoutDone:{type:Function}},data:function(){return{pending:!1,success:null,msg:"Are you sure?"}},methods:{doLogout:function(){var o=this;this.pending=!0,this.success=null,this.msg=null,this.logout().then((function(t){t.isError?(o.success=!1,o.msg=t.error?t.error.message:"Server error"):(o.success=!0,o.msg="You successfully logged out",o.logoutDone&&setTimeout((function(){o.logoutDone(o.success)}),1e3)),o.pending=!1}))},close:function(){this.logoutDone&&this.logoutDone(this.success)}}},i=c,l=e("2877"),a=Object(l["a"])(i,u,r,!1,null,null,null),g=a.exports,m={name:"Logout",components:{LogoutForm:g},computed:{previousRoute:function(){return this.$store.state.route.from}},methods:{logout:function(){return this.$store.dispatch("logout")},logoutDone:function(){this.previousRoute.name&&this.previousRoute.name!==this.$route.name?this.$router.push({name:this.previousRoute.name,params:this.previousRoute.params}).catch((function(o){console.info(o.message)})):this.$router.push({name:"base",params:{}}).catch((function(o){console.info(o.message)}))}}},p=m,h=Object(l["a"])(p,s,n,!1,null,null,null);t["default"]=h.exports}}]);
//# sourceMappingURL=logout.988e2d86.js.map