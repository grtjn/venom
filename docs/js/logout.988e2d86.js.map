{"version":3,"sources":["webpack:///./src/views/Logout.vue?0d77","webpack:///./src/components/LogoutForm.vue?0f8b","webpack:///src/components/LogoutForm.vue","webpack:///./src/components/LogoutForm.vue?2c4e","webpack:///./src/components/LogoutForm.vue","webpack:///src/views/Logout.vue","webpack:///./src/views/Logout.vue?a898","webpack:///./src/views/Logout.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","logout","logoutDone","staticRenderFns","on","$event","preventDefault","doLogout","msg","success","_s","close","_e","name","props","type","Function","required","data","pending","methods","then","response","isError","setTimeout","component","components","LogoutForm","computed","previousRoute","$store","state","route","from","dispatch","$router"],"mappings":"+GAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,UAAU,CAACE,MAAM,CAAC,KAAO,WAAW,CAACF,EAAG,KAAK,CAACG,YAAY,eAAe,CAACP,EAAIQ,GAAG,YAAYJ,EAAG,cAAc,CAACG,YAAY,gBAAgB,CAACH,EAAG,aAAa,CAACE,MAAM,CAAC,OAASN,EAAIS,OAAO,WAAaT,EAAIU,eAAe,IAAI,IAC3TC,EAAkB,GCDlB,G,UAAS,WAAa,IAAIX,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACQ,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBd,EAAIe,cAAc,CAACX,EAAG,UAAU,CAACE,MAAM,CAAC,OAASN,EAAIgB,IAAI,QAA0B,OAAhBhB,EAAIiB,QAAmB,UAAYjB,EAAIiB,QAAU,UAAY,WAAW,CAACjB,EAAIQ,GAAGR,EAAIkB,GAAGlB,EAAIgB,QAAShB,EAAW,QAAEI,EAAG,mBAAmB,CAAIJ,EAAIU,WAAYN,EAAG,WAAW,CAACQ,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBd,EAAImB,WAAW,CAACnB,EAAIQ,GAAG,aAAaR,EAAIoB,MAAM,GAAGhB,EAAG,mBAAmB,CAAIJ,EAAIU,WAAYN,EAAG,WAAW,CAACG,YAAY,OAAOK,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBd,EAAImB,WAAW,CAACnB,EAAIQ,GAAG,cAAcR,EAAIoB,KAAKhB,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,SAAS,QAAU,YAAY,CAACN,EAAIQ,GAAG,YAAaR,EAAW,QAAEI,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,kBAAkB,UAAY,UAAUN,EAAIoB,MAAM,IAAI,IAAI,KACz2B,EAAkB,GC0BtB,GACEC,KAAM,aACNC,MAAO,CACLb,OAAQ,CACNc,KAAMC,SACNC,UAAU,GAEZf,WAAY,CACVa,KAAMC,WAGVE,KAXF,WAYI,MAAO,CACLC,SAAS,EACTV,QAAS,KACTD,IAAK,kBAGTY,QAAS,CACPb,SADJ,WACA,WACMd,KAAK0B,SAAU,EACf1B,KAAKgB,QAAU,KACfhB,KAAKe,IAAM,KACXf,KAAKQ,SAASoB,MAAK,SAAzB,GACYC,EAASC,SACX,EAAV,WACU,EAAV,6CAEU,EAAV,WACU,EAAV,kCACc,EAAd,YACYC,YAAW,WACT,EAAd,wBACA,MAGQ,EAAR,eAGIb,MArBJ,WAsBUlB,KAAKS,YACPT,KAAKS,WAAWT,KAAKgB,YCpEuT,I,YCOhVgB,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,E,QCNf,GACEZ,KAAM,SACNa,WAAY,CACVC,WAAJ,GAEEC,SAAU,CACRC,cADJ,WAEM,OAAOpC,KAAKqC,OAAOC,MAAMC,MAAMC,OAGnCb,QAAS,CACPnB,OADJ,WAEM,OAAOR,KAAKqC,OAAOI,SAAS,WAE9BhC,WAJJ,WAMA,yBACA,2CAEQT,KAAK0C,QACb,MACU,KAAV,wBACU,OAAV,4BAEA,mBACU,QAAV,mBAIQ1C,KAAK0C,QACb,MACU,KAAV,OACU,OAAV,KAEA,mBACU,QAAV,sBC/CgV,ICO5U,EAAY,eACd,EACA5C,EACAY,GACA,EACA,KACA,KACA,MAIa,e","file":"js/logout.988e2d86.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{attrs:{\"role\":\"logout\"}},[_c('h1',{staticClass:\"text-center\"},[_vm._v(\"Logout\")]),_c('b-jumbotron',{staticClass:\"w-50 mx-auto\"},[_c('LogoutForm',{attrs:{\"logout\":_vm.logout,\"logoutDone\":_vm.logoutDone}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.doLogout()}}},[_c('b-alert',{attrs:{\"show\":!!_vm.msg,\"variant\":_vm.success === null ? 'warning' : _vm.success ? 'success' : 'danger'}},[_vm._v(_vm._s(_vm.msg))]),(_vm.success)?_c('b-button-toolbar',[(!!_vm.logoutDone)?_c('b-button',{on:{\"click\":function($event){$event.preventDefault();return _vm.close()}}},[_vm._v(\" Close \")]):_vm._e()],1):_c('b-button-toolbar',[(!!_vm.logoutDone)?_c('b-button',{staticClass:\"mr-2\",on:{\"click\":function($event){$event.preventDefault();return _vm.close()}}},[_vm._v(\" Cancel \")]):_vm._e(),_c('b-button',{attrs:{\"type\":\"submit\",\"variant\":\"primary\"}},[_vm._v(\" Logout \"),(_vm.pending)?_c('b-icon',{attrs:{\"icon\":\"arrow-clockwise\",\"animation\":\"spin\"}}):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-form @submit.prevent=\"doLogout()\">\n    <b-alert\n      :show=\"!!msg\"\n      :variant=\"success === null ? 'warning' : success ? 'success' : 'danger'\"\n      >{{ msg }}</b-alert\n    >\n    <b-button-toolbar v-if=\"success\">\n      <b-button v-if=\"!!logoutDone\" @click.prevent=\"close()\">\n        Close\n      </b-button>\n    </b-button-toolbar>\n    <b-button-toolbar v-else>\n      <b-button v-if=\"!!logoutDone\" @click.prevent=\"close()\" class=\"mr-2\">\n        Cancel\n      </b-button>\n      <b-button type=\"submit\" variant=\"primary\">\n        Logout\n        <b-icon v-if=\"pending\" icon=\"arrow-clockwise\" animation=\"spin\"></b-icon>\n      </b-button>\n    </b-button-toolbar>\n  </b-form>\n</template>\n\n<script>\n'use strict';\n\nexport default {\n  name: 'LogoutForm',\n  props: {\n    logout: {\n      type: Function,\n      required: true\n    },\n    logoutDone: {\n      type: Function\n    }\n  },\n  data() {\n    return {\n      pending: false,\n      success: null,\n      msg: 'Are you sure?'\n    };\n  },\n  methods: {\n    doLogout() {\n      this.pending = true;\n      this.success = null;\n      this.msg = null;\n      this.logout().then(response => {\n        if (response.isError) {\n          this.success = false;\n          this.msg = response.error ? response.error.message : 'Server error';\n        } else {\n          this.success = true;\n          this.msg = 'You successfully logged out';\n          if (this.logoutDone) {\n            setTimeout(() => {\n              this.logoutDone(this.success);\n            }, 1000);\n          }\n        }\n        this.pending = false;\n      });\n    },\n    close() {\n      if (this.logoutDone) {\n        this.logoutDone(this.success);\n      }\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LogoutForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LogoutForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LogoutForm.vue?vue&type=template&id=6ba58dba&\"\nimport script from \"./LogoutForm.vue?vue&type=script&lang=js&\"\nexport * from \"./LogoutForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <section role=\"logout\">\n    <h1 class=\"text-center\">Logout</h1>\n    <b-jumbotron class=\"w-50 mx-auto\">\n      <LogoutForm :logout=\"logout\" :logoutDone=\"logoutDone\" />\n    </b-jumbotron>\n  </section>\n</template>\n\n<script>\nimport LogoutForm from '@/components/LogoutForm';\n\nexport default {\n  name: 'Logout',\n  components: {\n    LogoutForm\n  },\n  computed: {\n    previousRoute() {\n      return this.$store.state.route.from;\n    }\n  },\n  methods: {\n    logout() {\n      return this.$store.dispatch('logout');\n    },\n    logoutDone() {\n      if (\n        this.previousRoute.name &&\n        this.previousRoute.name !== this.$route.name\n      ) {\n        this.$router\n          .push({\n            name: this.previousRoute.name,\n            params: this.previousRoute.params\n          })\n          .catch(error => {\n            console.info(error.message);\n          });\n      } else {\n        // cancel\n        this.$router\n          .push({\n            name: 'base',\n            params: {}\n          })\n          .catch(error => {\n            console.info(error.message);\n          });\n      }\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Logout.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Logout.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Logout.vue?vue&type=template&id=8836f480&\"\nimport script from \"./Logout.vue?vue&type=script&lang=js&\"\nexport * from \"./Logout.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}